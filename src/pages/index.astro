---
import { Image } from "astro:assets";
import leftBg from "@/assets/images/left-bg.png";
import rightBg from "@/assets/images/right-bg.png";
import homeImg from "@/assets/images/home-img.png";
import bannerIcon from "@/assets/images/banner-icon.png";
import sausage from "@/assets/images/sausage.png";
import inovationTablet from "@/assets/images/inovation-tablet.png";
import inovationImg from "@/assets/images/inovation-img.png";
import aboutImg from "@/assets/images/about-img.png";
import aboutShape from "@/assets/images/about-shape.png";
import cheeseImg from "@/assets/images/cheese-img.png";
import realCheese from "@/assets/images/real-cheese.png";
import adonan from "@/assets/images/adonan.png";
import ingredients from "@/assets/images/ingredients.png";
import handmade from "@/assets/images/handmade.png";
import redClock from "@/assets/images/red-clock.png";
import pizzaBg from "@/assets/images/pizza-bg.png";
import pizzaBgLarge from "@/assets/images/pizza-bg-large.png";
import learnGif from "@/assets/images/learn.gif";
import readyGif from "@/assets/images/ready.gif";
import cookGif from "@/assets/images/cook.gif";
import freshGif from "@/assets/images/fresh.gif";
import intersect from "@/assets/images/intersect.png";
import close from "@/assets/images/close.svg";

import Layout from "../layout/MainLayout.astro";
import { ContactForm } from "@/components/contact-form";

const title = "Home Page";
const metaDesc =
  "Eat Pizza, franchise pizza nomor satu dari Korea, kini hadir di Indonesia! Sajikan pizza persegi panjang inovatif dan menangkan hati pelanggan. Peluang bisnis kuliner menjanjikan menanti Anda.";
import { PlayIcon, PauseIcon } from "@heroicons/react/24/solid";
import { CarouselMenu } from "@/components/carousel-menu";
---

<Layout title={title} metaDesc={metaDesc}>
  <!-- Flyout Bubble -->
  <div
    id="flyoutBubble"
    data-aos="zoom-in"
    class="flex w-24 z-30 p-5 fixed right-5 bottom-10 border-2 border-white rounded-lg flex-col gap-1 justify-center items-center bg-bubble-bg bg-cover bg-center bg-no-repeat desktop:w-40"
  >
    <div class="bg-red-800/60 absolute w-full h-full rounded-lg"></div>
    <button
      id="closeButton"
      class="absolute z-10 top-1 right-1 text-white text-lg focus:outline-none"
    >
      <Image class="desktop:w-8" src={close} alt="close" />
    </button>
    <p class="z-10 text-[12px] font-esamanru text-white text-center desktop:text-xl">
      Gabung Bersama Kami!
    </p>
    <a
      class="z-10 text-[12px] self-stretch text-center rounded-sm bg-third px-2 py-1 font-medium text-white hover:bg-opacity-80 disabled:cursor-not-allowed disabled:opacity-50 desktop:text-xl"
      href="/partner">Klik!</a
    >
  </div>

  <!-- Home Section -->
  <section class="title flex flex-col items-center pt-24 px-5 relative tablet:px-10 desktop:px-40">
    <Image
      data-aos="fade-right"
      data-aos-anchor="#example-anchor"
      data-aos-offset="500"
      data-aos-duration="500"
      class="absolute bottom-0 left-0 w-20 tablet:w-28 laptop:w-32 desktop:w-52"
      src={leftBg}
      alt="Left background"
    />
    <Image
      data-aos="fade-left"
      data-aos-anchor="#example-anchor"
      data-aos-offset="500"
      data-aos-duration="500"
      class="absolute bottom-0 right-0 w-20 tablet:w-28 laptop:w-32 desktop:w-52"
      src={rightBg}
      alt="Right background"
    />
    <div
      data-aos="zoom-in"
      data-aos-delay="500"
      class="title flex flex-col gap-1 items-center z-10 desktop:gap-4"
    >
      <div class="bg-white rounded-md">
        <h1
          class="text-xl text-third px-4 py-2 rounded-md font-esamanru text-shadow-sm text-stroke-1 text-stroke-dark font-semibold tablet:text-3xl laptop:text-4xl laptop:text-shadow-md laptop:text-stroke-2 laptop:px-8 laptop:py-4 desktop:text-5xl"
        >
          100% Original
        </h1>
      </div>
      <h1
        class="text-2xl text-dark font-esamanru font-semibold tablet:text-3xl laptop:text-6xl desktop:text-8xl"
      >
        25cm Pizza Korea
      </h1>
      <h2
        class="text-2xl text-center text-stroke-1 font-esamanru font-bold text-stroke-dark text-shadow-sm text-white tablet:text-3xl laptop:text-5xl desktop:text-7xl laptop:text-stroke-3 laptop:text-shadow-xl"
      >
        Teman Asik di Mana Saja!
      </h2>
    </div>
    <Image data-aos="fade-up" data-aos-delay="500" src={homeImg} alt="Home" quality="max" />
  </section>

  <!-- Banner Section -->
  <div class="banner z-10 w-full grid grid-cols-custom-70-30 tablet:grid-cols-custom-80-20">
    <div
      class="flex flex-col p-4 justify-center bg-secondary relative tablet:p-6 desktop:py-16 desktop:px-12"
    >
      <Image
        class="w-20 absolute right-5 top-10 lg:top-6 tablet:w-32 tablet:right-10 tablet:top-4 laptop:w-36 desktop:w-80 desktop:right-20"
        src={bannerIcon}
        alt="Banner icon"
      />
      <Image
        class="w-14 z-10 absolute -right-6 tablet:w-20 tablet:-right-8 desktop:w-40 desktop:-right-20"
        src={sausage}
        alt="Sausage"
      />
      <h3
        class="text-white text-lg font-bold font-esamanru tablet:text-2xl laptop:text-3xl desktop:text-5xl"
      >
        “No Pork No Lard.”
      </h3>
      <span class="font-esamanru text-white desktop:text-3xl">- Eat Pizza</span>
    </div>
    <a
      href="#menu"
      class="button flex justify-center items-center bg-third text-center p-2 text-white font-esamanru font-medium text-sm hover:bg-dark duration-300 tablet:text-lg tablet:px-5 desktop:text-3xl desktop:px-16"
      >Jelajahi Lebih Lanjut</a
    >
  </div>

  <!-- Video Section -->
  <section
    data-aos="fade-in"
    id="videoSection"
    class="video flex justify-center items-center relative"
  >
    <video id="eatpizzaVideo" class="w-full cursor-pointer" src="/video/eatpizza-video.mp4" loop
    ></video>

    <button
      id="toggleButton"
      class="absolute flex justify-center items-center h-10 w-10 text-white opacity-0 transition-opacity duration-300 ease-in-out tablet:w-16 tablet:h-16 laptop:w-24 laptop:h-24"
    >
      <PlayIcon id="playIcon" className="text-white hidden" />
      <PauseIcon id="pauseIcon" className="text-white hidden" />
    </button>
  </section>

  <!-- Menu Section -->
  <section
    id="menu"
    class="menu bg-wood-bg bg-no-repeat bg-cover bg-center flex flex-col gap-10 justify-center items-center p-5 tablet:p-10 desktop:p-40"
  >
    <h2
      class="font-bold text-2xl font-esamanru text-white tablet:text-4xl laptop:text-5xl desktop:text-7xl"
    >
      Menu
    </h2>
    <!-- Carousel Goes Here -->
    <CarouselMenu client:idle />

    <a
      class="bg-third text-white hover:bg-dark duration-300 py-2 px-4 rounded-md font-medium tablet:text-xl laptop:text-2xl desktop:text-3xl desktop:py-4 desktop:px-8"
      href="/menu">Lihat Lebih Lanjut</a
    >
  </section>

  <!-- Inovation Section -->
  <section
    class="inovation p-5 bg-third flex flex-col gap-5 justify-center items-center tablet:p-10 desktop:p-40 desktop:gap-10"
  >
    <div class="title flex flex-col justify-center items-center gap-2 desktop:gap-5">
      <h2
        class="text-white font-bold font-esamanru text-xl text-center tablet:text-3xl laptop:text-5xl desktop:text-7xl"
      >
        Inovasi Pizza Baru, 25cm!
      </h2>
      <p
        class="text-white font-esamanru text-center text-sm tablet:text-lg laptop:text-xl desktop:text-4xl"
      >
        Pizza di Eat Pizza lebih dari sekedar enak
      </p>
    </div>
    <Image class="mobile laptop:hidden" src={inovationImg} alt="Inovation" />
    <Image class="tablet hidden laptop:block" src={inovationTablet} alt="Inovation tablet" />
  </section>

  <!-- About Section -->
  <section class="about grid grid-cols-1 relative">
    <Image src={aboutImg} class="w-full" alt="about" />
    <div
      class="about-content flex flex-col justify-center items-center bg-white z-20 relative pb-8 desktop:gap-20"
    >
      <Image
        src={aboutShape}
        class="w-full left-0 right-0 absolute -top-16 z-10 tablet:-top-28 laptop:-top-36 desktop:-top-64"
        alt="About shape"
      />
      <Image
        src={cheeseImg}
        class="absolute -top-24 z-10 left-0 w-32 laptop:w-52 laptop:-top-36 desktop:w-96 desktop:left-20 desktop:-top-72"
        alt="Cheese"
      />
      <h1
        class="text-3xl font-esamanru text-dark font-bold z-20 tablet:text-4xl laptop:text-5xl desktop:text-7xl"
      >
        Cerita Kami
      </h1>
      <div class="stories mt-4 z-20">
        <div
          class="story group flex flex-col gap-4 items-center border-b border-dark px-10 pb-10 tablet:px-20 laptop:flex-row laptop:justify-between w-full laptop:gap-10 desktop:gap-20 laptop:px-20"
        >
          <div class="text text-center flex flex-col gap-2 laptop:gap-4 laptop:text-left">
            <h4
              class="text-lg font-light font-esamanru text-black laptop:text-2xl desktop:text-3xl desktop:font-medium"
            >
              Adonan Homemade yang Lezat
            </h4>
            <p
              class="font-light font-esamanru text-sm laptop:text-base desktop:text-xl desktop:font-medium"
            >
              Nikmati pizza premium yang lebih lembut dan moist, dengan adonan yang diproses
              langsung di tempat dan diperkaya dengan minyak zaitun murni.
            </p>
          </div>
          <Image
            src={adonan}
            alt="Adonan"
            class="relative right-0 w-52 rounded-md laptop:group-hover:w-96 laptop:group-hover:rounded-full duration-300"
          />
        </div>
        <div
          class="story group flex flex-col gap-4 items-center border-b border-dark p-10 tablet:px-20 laptop:flex-row laptop:justify-between w-full laptop:gap-10 desktop:gap-20 laptop:px-20"
        >
          <div class="text text-center flex flex-col gap-2 laptop:gap-4 laptop:text-left">
            <h4
              class="text-lg font-light font-esamanru text-black laptop:text-2xl desktop:text-3xl desktop:font-medium"
            >
              Perpaduan 100% Keju Asli
            </h4>
            <p
              class="font-light font-esamanru text-sm laptop:text-base desktop:text-xl desktop:font-medium"
            >
              Campuran spesial keju kami, yang 100% alami, memberikan cita rasa keju yang kaya dan
              tidak bisa kamu temukan di pizza lainnya.
            </p>
          </div>
          <Image
            src={realCheese}
            alt="Real cheese"
            class="relative right-0 w-52 rounded-md laptop:group-hover:w-96 laptop:group-hover:rounded-full duration-300"
          />
        </div>
        <div
          class="story group flex flex-col gap-4 items-center border-b border-dark p-10 tablet:px-20 laptop:flex-row laptop:justify-between w-full laptop:gap-10 desktop:gap-20 laptop:px-20"
        >
          <div class="text text-center flex flex-col gap-2 laptop:gap-4 laptop:text-left">
            <h4
              class="text-lg font-light font-esamanru text-black laptop:text-2xl desktop:text-3xl desktop:font-medium"
            >
              Bahan Sehat dan Segar
            </h4>
            <p
              class="font-light font-esamanru text-sm laptop:text-base desktop:text-xl desktop:font-medium"
            >
              Eat Pizza membuat pizza seperti untuk keluarga sendiri, dengan hanya memilih
              bahan-bahan yang lebih sehat dan segar.
            </p>
          </div>
          <Image
            src={ingredients}
            alt="Ingredients"
            class="relative right-0 w-52 rounded-md laptop:group-hover:w-96 laptop:group-hover:rounded-full duration-300"
          />
        </div>
        <div
          class="story group flex flex-col gap-4 items-center p-10 tablet:px-20 laptop:flex-row laptop:justify-between w-full laptop:gap-10 desktop:gap-20 laptop:px-20"
        >
          <div class="text text-center flex flex-col gap-2 laptop:gap-4 laptop:text-left">
            <h4
              class="text-lg font-light font-esamanru text-black laptop:text-2xl desktop:text-3xl desktop:font-medium"
            >
              Pizza Handmade di Tempat
            </h4>
            <p
              class="font-light font-esamanru text-sm laptop:text-base desktop:text-xl desktop:font-medium"
            >
              Eat Pizza nggak jual pizza beku! Setelah kamu pesan, kami langsung kasih topping di
              atas adonan yang sudah diproses sempurna, lalu dipanggang langsung di oven.
            </p>
          </div>
          <Image
            src={handmade}
            alt="Handmade"
            class="relative right-0 w-52 rounded-md laptop:group-hover:w-96 laptop:group-hover:rounded-full duration-300"
          />
        </div>
      </div>
    </div>
  </section>

  <!-- Benefit Section -->
  <section class="benefit">
    <div
      class="title-box flex gap-2 justify-center items-center bg-secondary p-5 tablet:justify-between tablet:px-10 laptop:px-20"
    >
      <div class="text flex flex-col gap-2">
        <h2
          class="font-esamanru text-white font-bold text-2xl w-52 tablet:text-4xl tablet:w-max laptop:text-6xl laptop:w-[600px] desktop:w-[700px] desktop:text-8xl"
        >
          Siap Dalam 5 Menit!
        </h2>
        <p class="text-white text-sm font-esamanru font-light laptop:text-2xl desktop:text-5xl">
          Pizza enak, super cepat, dan siapa pun bisa buat!
        </p>
      </div>
      <Image class="w-20 tablet:w-32 laptop:w-52 desktop:w-96" src={redClock} alt="Red clock" />
    </div>
    <div
      class="benefit-box py-8 px-5 relative grid grid-cols-1 gap-10 tablet:grid-cols-2 tablet:gap-5 tablet:p-10 laptop:p-20 desktop:gap-10"
    >
      <Image class="w-full inset-0 top-40 absolute tablet:hidden" src={pizzaBg} alt="Pizza" />
      <Image
        class="w-full inset-0 top-12 absolute hidden tablet:block"
        src={pizzaBgLarge}
        alt="Pizza large"
      />
      <div class="card relative z-10 flex flex-col">
        <Image class="rounded-t-lg w-full desktop:rounded-t-2xl" src={learnGif} alt="Learn" />
        <div
          class="rounded-b-lg py-5 px-10 text flex flex-col gap-2 justify-center items-center bg-white text-slate-950 desktop:rounded-b-2xl desktop:px-40 desktop:py-10 desktop:gap-8"
        >
          <h4 class="font-esamanru text-xl desktop:text-4xl">Belajar Cuma</h4>
          <h3 class="font-esamanru font-bold text-6xl flex items-end gap-2 desktop:text-9xl">
            10 <span class="text-xl font-semibold desktop:text-5xl desktop:font-medium">menit</span>
          </h3>
          <p class="text-center font-gmarket desktop:text-2xl">
            Semua orang bisa! Dalam 10 menit! Langsung Paham.
          </p>
        </div>
      </div>
      <div class="card relative z-10 flex flex-col">
        <Image class="rounded-t-lg w-full desktop:rounded-t-2xl" src={readyGif} alt="Ready" />
        <div
          class="rounded-b-lg py-5 px-10 text flex flex-col gap-2 justify-center items-center bg-white text-slate-950 desktop:rounded-b-2xl desktop:px-40 desktop:py-10 desktop:gap-8"
        >
          <h4 class="font-esamanru text-xl desktop:text-4xl">Siap dalam</h4>
          <h3 class="font-esamanru font-bold text-6xl flex items-end gap-2 desktop:text-9xl">
            20 <span class="text-xl font-semibold desktop:text-5xl desktop:font-medium">detik</span>
          </h3>
          <p class="text-center font-gmarket desktop:text-2xl">
            Tinggal susun semua bahan, nggak perlu lama!
          </p>
        </div>
      </div>
      <div class="card relative z-10 flex flex-col">
        <Image class="rounded-t-lg w-full desktop:rounded-t-2xl" src={cookGif} alt="Cook" />
        <div
          class="rounded-b-lg py-5 px-10 text flex flex-col gap-2 justify-center items-center bg-white text-slate-950 desktop:rounded-b-2xl desktop:px-40 desktop:py-10 desktop:gap-8"
        >
          <h4 class="font-esamanru text-xl desktop:text-4xl">Pizza jadi dalam</h4>
          <h3 class="font-esamanru font-bold text-6xl flex items-end gap-2 desktop:text-9xl">
            5 <span class="text-xl font-semibold desktop:text-5xl desktop:font-medium">menit</span>
          </h3>
          <p class="text-center font-gmarket desktop:text-2xl">
            Masuk oven, tunggu 5 menit, pizza siap dimakan!
          </p>
        </div>
      </div>
      <div class="card relative z-10 flex flex-col">
        <Image class="rounded-t-lg w-full desktop:rounded-t-2xl" src={freshGif} alt="Fresh" />
        <div
          class="rounded-b-lg py-5 px-10 text flex flex-col gap-2 justify-center items-center bg-white text-slate-950 desktop:rounded-b-2xl desktop:px-40 desktop:py-10 desktop:gap-8"
        >
          <h4 class="font-esamanru text-xl desktop:text-4xl">Fresh tiap</h4>
          <h3 class="font-esamanru font-bold text-6xl flex items-end gap-2 desktop:text-9xl">
            30 <span class="text-xl font-semibold desktop:text-5xl desktop:font-medium">detik</span>
          </h3>
          <p class="text-center font-gmarket desktop:text-2xl">
            Pizza selalu fresh, keluar dari oven setiap 30 detik!
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section class="contact relative py-10 px-5 bg-third tablet:p-10 laptop:px-20 laptop:py-20">
    <Image class="absolute -right-4 -top-4 laptop:w-80" src={intersect} alt="Intersect" />
    <Image class="absolute -left-4 -bottom-4 laptop:w-80" src={intersect} alt="Intersect" />
    <div class="contact-box grid laptop:grid-cols-custom-70-30">
      <ContactForm client:idle />
      <div
        class="bg-contact z-10 bg-no-repeat bg-cover bg-center laptop:rounded-tr-lg laptop:rounded-br-lg"
      >
      </div>
    </div>
  </section>

  <script>
    import AOS from "aos";
    import "aos/dist/aos.css";

    AOS.init({
      duration: 1000,
      easing: "ease-in-out",
    });

    const video = document.getElementById("eatpizzaVideo") as HTMLVideoElement;
    const toggleButton = document.getElementById("toggleButton");
    const playIcon = document.getElementById("playIcon");
    const pauseIcon = document.getElementById("pauseIcon");

    // Initially show the play icon
    playIcon.classList.remove("hidden");
    pauseIcon.classList.add("hidden");

    // Function to toggle play/pause
    const togglePlayPause = () => {
      if (video.paused) {
        video.play();
        playIcon.classList.add("hidden"); // Hide Play icon
        pauseIcon.classList.remove("hidden"); // Show Pause icon
      } else {
        video.pause();
        playIcon.classList.remove("hidden"); // Show Play icon
        pauseIcon.classList.add("hidden"); // Hide Pause icon
      }
    };

    // Event listeners for showing and hiding the icons on hover
    const videoSection = document.getElementById("videoSection");

    // Show the play/pause button on hover
    videoSection.addEventListener("mouseenter", () => {
      toggleButton.classList.remove("opacity-0");
      if (video.paused) {
        playIcon.classList.remove("hidden"); // Show play icon when video is paused
      } else {
        pauseIcon.classList.remove("hidden"); // Show pause icon when video is playing
      }
    });

    // Hide the play/pause button on unhover
    videoSection.addEventListener("mouseleave", () => {
      toggleButton.classList.add("opacity-0"); // Hide the button
      playIcon.classList.add("hidden"); // Hide play icon
      pauseIcon.classList.add("hidden"); // Hide pause icon
    });

    // Add click event listener to toggle play/pause
    toggleButton.addEventListener("click", togglePlayPause);
    video.addEventListener("click", togglePlayPause);

    document.getElementById("closeButton").addEventListener("click", function () {
      document.getElementById("flyoutBubble").style.display = "none";
    });
  </script>
</Layout>
